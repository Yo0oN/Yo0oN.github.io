---
title: 대용량 트래픽을 해결하는 방법 (Scale-up, Scale-out)
modified: 2020-10-11
author: Yo0oN
categories: [Project, festa]
tags: [Project]
math: true
---

<hr>

## 1. 대용량 트래픽을 해결하는 방법

현재 작업 중인 팀 프로젝트에서 로그인 기능 구현 중 *사용자가 많아지면 어떻게 대처할 것인가?* 라는 문제를 이야기하고있다.

사용자가 많아졌을 때의 문제를 하나 들어보자면, 보통 로그인을 하면 session을 생성하고, 트래픽이 많아질 경우 언젠간 서버 하나로는 session을 모두 저장할 공간이 없어질 때가 올것이다.<br> 
그래서 대용량 트래픽을 어떻게 감당할것인가 하는 이야기가 나왔고, 해결 방법은 크게 두가지로 나뉘어진다.

### 1. Scale-up

Scale-up은 수직적 확장이라고도 하는데, 서버의 사양을 높이는 것이다.

![대용량 트래픽01](/images/posts/Project/event-recommender-festa/대용량트래픽/대용량트래픽01.jpg)

CPU나 메모리 등 컴퓨터의 부품을 계속 교체해주는 방식인데, 하나의 컴퓨터로 모든 것을 해결할 수 있어 업그레이드가 쉽고(Scale-out과 비교시), 라이센스 비용을 아낄 수 있다는 장점이 있다.

하지만 컴퓨터를 업그레이드 할 때마다 서버가 종료되며, 부품을 추가할 슬롯이 부족하다는 단점이 있다.<br>
그리고 들이는 비용에 비해 서버의 성능이 크게 향상되지 않으며, 서버에 문제가 생겨 통신을 할 수 없게 된다면, 사용자는 아예 서비스를 사용할 수 없다는 단점도 있다.

### 2. Scale-out

Scale-out은 수평적 확장이라고도 하며, 서버의 수를 늘리는 것이다.

![대용량 트래픽02](/images/posts/Project/event-recommender-festa/대용량트래픽/대용량트래픽02.jpg)

업그레이드에 제한없이 할 수 있다는 장점이 있다.<br>
또, 서버가 여러대이기 때문에 하나의 서버가 문제가 생기더라도, 다른 서버를 이용하여 서비스를 제공할 수 있다.

하지만, 라이센스 비용이 들거나, 데이터 불일치 문제가 발생한다는 단점이 있다.<br>
예를들어 서버가 여러개로 나눠져 있을 경우, 사용자1이 1번 서버로 로그인 시, 2,3,4..번 서버에는 로그인 세션이 없으므로 이후에 서버 2,3..으로 요청을 하면 다른 서버에는 세션이 없어 계속 로그인을 해달라는 문제가 발생할 수도 있다는 것이다.<br>
그래서 Scale-out으로 대용량 트래픽을 해결한다면 데이터 불일치에 대한 해결도 생각해야 한다.



## 2. 어떤 방식을 사용할까?

Scale-up은 하나의 서버로 모든것을 해결하니 데이터의 변화가 자주 일어나는 경우에,
Scale-out의 경우 데이터의 변화가 많이 일어나지 않으며, 여러 작업을 동시에 처리하는 경우인 웹 서버에 적합하다.

둘 중 데이터 불일치 문제만 해결할 수 있다면 Scale-out이 Scale-up보다 제한이 없고, 더 효율적이라 생각했다.<br>
또 현재 제작중인 프로젝트의 경우 이벤트를 등록, 신청과 회원 관련 내용 외에 데이터 변화가 자주 일어나지 않기 때문에 Scale-out 방식으로 대용량 트래픽 문제를 해결하기로 했다.

> 데이터 불일치에 관한 해결은 다음 글에서 진행됩니다.<br>

<br>

**다음글**
- [Scale-out에서 데이터 불일치를 해결하는 방법 1편(Sticky Session, Session Clustering)](https://yo0on.github.io/posts/Project.%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B6%88%EC%9D%BC%EC%B9%98/)

**관련 프로젝트**
- [event-recommender-festa](https://github.com/f-lab-edu/event-recommender-festa) (2020-09 ~)
